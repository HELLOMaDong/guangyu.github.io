{"meta":{"title":"Guangyu","subtitle":"For world peace","description":"For world peace","author":"Guangyu","url":"http://lgyblong.com"},"pages":[{"title":"","date":"2017-07-11T07:28:18.000Z","updated":"2017-07-11T07:28:18.000Z","comments":false,"path":"categories/index.html","permalink":"http://lgyblong.com/categories/index.html","excerpt":"","text":""},{"title":"","date":"2017-07-11T07:28:07.000Z","updated":"2017-07-11T07:28:07.000Z","comments":false,"path":"tags/index.html","permalink":"http://lgyblong.com/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"Android Edittext动态监听字符","slug":"Edittext动态监听字符","date":"2017-07-12T15:20:05.000Z","updated":"2017-07-12T15:58:07.000Z","comments":true,"path":"2017/07/12/Edittext动态监听字符/","link":"","permalink":"http://lgyblong.com/2017/07/12/Edittext动态监听字符/","excerpt":"","text":"&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:layout_width=&quot;fill_parent&quot; android:layout_height=&quot;fill_parent&quot; android:background=&quot;@color/contentbg&quot;&gt; &lt;LinearLayout android:id=&quot;@+id/title_bar_layout&quot; android:layout_width=&quot;fill_parent&quot; android:layout_height=&quot;wrap_content&quot; android:orientation=&quot;vertical&quot;&gt; &lt;RelativeLayout android:layout_width=&quot;fill_parent&quot; android:layout_height=&quot;45dp&quot; android:layout_alignParentTop=&quot;true&quot; android:background=&quot;@color/green&quot;&gt; &lt;TextView android:id=&quot;@+id/title_left_btn&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:layout_centerVertical=&quot;true&quot; android:layout_marginLeft=&quot;15dp&quot; android:text=&quot;取消&quot; android:textColor=&quot;@color/title_bg&quot; android:textSize=&quot;14sp&quot; /&gt; &lt;LinearLayout android:id=&quot;@+id/ll_channel_create&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;30dip&quot; android:layout_centerInParent=&quot;true&quot; android:gravity=&quot;center&quot; android:visibility=&quot;gone&quot;&gt; &lt;TextView android:id=&quot;@+id/title_text&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:layout_gravity=&quot;center_vertical&quot; android:gravity=&quot;center_vertical|right&quot; android:textColor=&quot;#ffffff&quot; android:textSize=&quot;17sp&quot; /&gt; &lt;ImageView android:id=&quot;@+id/iv_community&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:layout_gravity=&quot;center_vertical&quot; android:background=&quot;@drawable/community_down&quot; /&gt; &lt;/LinearLayout&gt; &lt;TextView android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:layout_centerHorizontal=&quot;true&quot; android:layout_centerVertical=&quot;true&quot; android:text=&quot;新动态&quot; android:textColor=&quot;@color/title_bg&quot; android:textSize=&quot;14sp&quot; /&gt; &lt;Button android:id=&quot;@+id/title_right_btn&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;27dip&quot; android:layout_alignParentRight=&quot;true&quot; android:layout_centerVertical=&quot;true&quot; android:background=&quot;@null&quot; android:onClick=&quot;onRightBtnClick&quot; android:text=&quot;发布&quot; android:textColor=&quot;@color/title_bg&quot; android:textSize=&quot;14sp&quot; /&gt; &lt;View android:layout_width=&quot;fill_parent&quot; android:layout_height=&quot;1px&quot; android:layout_alignParentBottom=&quot;true&quot; android:background=&quot;@color/titledividebg&quot; /&gt; &lt;/RelativeLayout&gt; &lt;/LinearLayout&gt; &lt;com.android.lesdo.view.VerticalScrollview android:id=&quot;@+id/sv_content&quot; android:layout_width=&quot;fill_parent&quot; android:layout_height=&quot;wrap_content&quot; android:layout_below=&quot;@id/title_bar_layout&quot; android:fillViewport=&quot;false&quot;&gt; &lt;RelativeLayout android:layout_width=&quot;fill_parent&quot; android:layout_height=&quot;fill_parent&quot;&gt; &lt;EditText android:id=&quot;@+id/et_create_card_title&quot; android:layout_width=&quot;fill_parent&quot; android:layout_height=&quot;48dp&quot; android:background=&quot;@color/white&quot; android:gravity=&quot;center_vertical&quot; android:hint=&quot;有标题更吸引人（选填）&quot; android:maxEms=&quot;25&quot; android:maxLength=&quot;25&quot; android:maxLines=&quot;2&quot; android:paddingLeft=&quot;30dip&quot; android:paddingRight=&quot;30dip&quot; android:textColor=&quot;@color/title&quot; android:textColorHint=&quot;@color/hint&quot; android:textSize=&quot;13sp&quot; /&gt; &lt;EditText android:id=&quot;@+id/et_create_card_content&quot; android:layout_width=&quot;fill_parent&quot; android:layout_height=&quot;168dip&quot; android:layout_below=&quot;@+id/et_create_card_title&quot; android:background=&quot;@color/white&quot; android:gravity=&quot;start&quot; android:hint=&quot;帖子光着好害羞，有图片或文字才能发布&quot; android:paddingLeft=&quot;30dip&quot; android:paddingRight=&quot;30dip&quot; android:paddingTop=&quot;18dp&quot; android:textColor=&quot;@color/title&quot; android:textColorHint=&quot;@color/hint&quot; android:textSize=&quot;13sp&quot; /&gt; &lt;TextView android:id=&quot;@+id/mTvAvailableCharNum&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;wrap_content&quot; android:layout_below=&quot;@+id/et_create_card_content&quot; android:background=&quot;@color/white&quot; android:gravity=&quot;end&quot; android:hint=&quot;140/140&quot; android:paddingEnd=&quot;20dp&quot; android:textColor=&quot;@color/title&quot; android:textColorHint=&quot;@color/hint&quot; android:textSize=&quot;13sp&quot; /&gt; &lt;View android:layout_width=&quot;fill_parent&quot; android:layout_height=&quot;1px&quot; android:layout_below=&quot;@id/et_create_card_title&quot; android:layout_marginLeft=&quot;30dip&quot; android:layout_marginRight=&quot;30dp&quot; android:background=&quot;@color/bg_card_divider&quot; /&gt; &lt;RelativeLayout android:id=&quot;@+id/rl_bottom&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;wrap_content&quot; android:layout_below=&quot;@id/mTvAvailableCharNum&quot; android:background=&quot;@color/white&quot; android:paddingTop=&quot;10dip&quot; android:visibility=&quot;visible&quot;&gt; &lt;com.android.lesdo.view.NoScrollGridView android:id=&quot;@+id/gv_create_images&quot; android:layout_width=&quot;fill_parent&quot; android:layout_height=&quot;wrap_content&quot; android:layout_centerHorizontal=&quot;true&quot; android:background=&quot;@color/white&quot; android:horizontalSpacing=&quot;5dp&quot; android:listSelector=&quot;@android:color/transparent&quot; android:numColumns=&quot;4&quot; android:paddingLeft=&quot;30dip&quot; android:paddingRight=&quot;30dip&quot; android:scrollbars=&quot;none&quot; android:verticalSpacing=&quot;5dp&quot; android:visibility=&quot;visible&quot; /&gt; &lt;com.android.lesdo.view.RoundImageView android:id=&quot;@+id/iv_create_image&quot; android:layout_width=&quot;65dip&quot; android:layout_height=&quot;65dip&quot; android:layout_alignParentRight=&quot;true&quot; android:layout_margin=&quot;15dip&quot; android:src=&quot;@drawable/camera_default&quot; android:visibility=&quot;gone&quot; /&gt; &lt;TextView android:id=&quot;@+id/tv_image_size&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:layout_alignBottom=&quot;@id/iv_create_image&quot; android:layout_alignRight=&quot;@id/iv_create_image&quot; android:background=&quot;@drawable/image_count&quot; android:padding=&quot;2dip&quot; android:text=&quot;0&quot; android:textColor=&quot;@color/white&quot; android:visibility=&quot;gone&quot; /&gt; &lt;View android:layout_width=&quot;fill_parent&quot; android:layout_height=&quot;1px&quot; android:layout_below=&quot;@+id/gv_create_images&quot; android:layout_marginTop=&quot;15dip&quot; android:background=&quot;@color/white&quot; android:visibility=&quot;visible&quot; /&gt; &lt;TextView android:id=&quot;@+id/tv_topics&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:layout_alignParentRight=&quot;true&quot; android:paddingBottom=&quot;15dip&quot; android:paddingRight=&quot;15dip&quot; android:text=&quot;+ 添加话题&quot; android:textColor=&quot;@color/green&quot; android:textSize=&quot;17sp&quot; android:visibility=&quot;gone&quot; /&gt; &lt;View android:id=&quot;@+id/guide_buttom_line&quot; android:layout_width=&quot;fill_parent&quot; android:layout_height=&quot;1px&quot; android:layout_alignParentBottom=&quot;true&quot; android:background=&quot;@color/d2d5d7&quot; android:visibility=&quot;gone&quot; /&gt; &lt;/RelativeLayout&gt; &lt;RelativeLayout android:id=&quot;@+id/rel_guide_top&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; android:layout_alignBottom=&quot;@id/rl_bottom&quot; android:layout_alignParentTop=&quot;true&quot; android:orientation=&quot;vertical&quot; android:visibility=&quot;gone&quot;&gt; &lt;View android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;300dip&quot; android:layout_marginBottom=&quot;32px&quot; android:background=&quot;@color/tweenblack&quot; /&gt; &lt;ImageView android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;match_parent&quot; android:layout_alignParentBottom=&quot;true&quot; android:layout_marginLeft=&quot;25dip&quot; android:scaleType=&quot;fitEnd&quot; android:src=&quot;@drawable/guide_create_topic&quot; /&gt; &lt;/RelativeLayout&gt; &lt;RelativeLayout android:id=&quot;@+id/rel_guide_bottom&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;300dip&quot; android:layout_below=&quot;@id/rel_create_topic&quot; android:background=&quot;@color/tweenblack&quot; android:visibility=&quot;gone&quot; /&gt; &lt;/RelativeLayout&gt; &lt;/com.android.lesdo.view.VerticalScrollview&gt; &lt;TextView android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;wrap_content&quot; android:layout_alignParentBottom=&quot;true&quot; android:layout_below=&quot;@+id/sv_content&quot; android:layout_marginBottom=&quot;32dp&quot; android:gravity=&quot;bottom&quot; android:lineSpacingExtra=&quot;4dp&quot; android:paddingLeft=&quot;30dp&quot; android:paddingRight=&quot;30dp&quot; android:text=&quot;@string/send_tip&quot; android:textColor=&quot;@color/prompt&quot; android:textSize=&quot;10sp&quot; /&gt; &lt;/RelativeLayout&gt; et_create_card_content.addTextChangedListener(new TextWatcher() { private CharSequence temp;//监听前的文本 private int editStart;//光标开始位置 private int editEnd;//光标结束位置 private final int charMaxNum = 140; private final Boolean DEBUG = true; // Log.i(TAG, &quot;输入文本之前的状态&quot;); @Override public void beforeTextChanged(CharSequence s, int start, int count, int after) { if (DEBUG) temp = s; } @Override public void onTextChanged(CharSequence s, int start, int before, int count) { if (DEBUG) // Log.i(TAG, &quot;输入文字中的状态，count是一次性输入字符数&quot;); mTvAvailableCharNum.setText(s.length() + &quot; / 140&quot;); } @Override public void afterTextChanged(Editable s) { if (DEBUG) // Log.i(TAG, &quot;输入文字后的状态&quot;); /** 得到光标开始和结束位置 ,超过最大数后记录刚超出的数字索引进行控制 */ editStart = et_create_card_content.getSelectionStart(); editEnd = et_create_card_content.getSelectionEnd(); if (temp.length() &gt; charMaxNum) { Toast.makeText(getApplicationContext(), &quot;你输入的字数已经超过了限制！&quot;, Toast.LENGTH_LONG).show(); s.delete(editStart - 1, editEnd); int tempSelection = editStart; et_create_card_content.setText(s); et_create_card_content.setSelection(tempSelection); } } });","categories":[],"tags":[{"name":"记录","slug":"记录","permalink":"http://lgyblong.com/tags/记录/"}]},{"title":"Android RxPermissions 部分动态权限处理","slug":"部分动态权限处理","date":"2017-07-12T03:28:05.000Z","updated":"2017-07-12T15:54:12.000Z","comments":true,"path":"2017/07/12/部分动态权限处理/","link":"","permalink":"http://lgyblong.com/2017/07/12/部分动态权限处理/","excerpt":"","text":"Normal Permissions: ACCESS_LOCATION_EXTRA_COMMANDS ACCESS_NETWORK_STATE ACCESS_NOTIFICATION_POLICY ACCESS_WIFI_STATE BLUETOOTH BLUETOOTH_ADMIN BROADCAST_STICKY CHANGE_NETWORK_STATE CHANGE_WIFI_MULTICAST_STATE CHANGE_WIFI_STATE DISABLE_KEYGUARD EXPAND_STATUS_BAR GET_PACKAGE_SIZE INSTALL_SHORTCUT INTERNET KILL_BACKGROUND_PROCESSES MODIFY_AUDIO_SETTINGS NFC READ_SYNC_SETTINGS READ_SYNC_STATS RECEIVE_BOOT_COMPLETED REORDER_TASKS REQUEST_INSTALL_PACKAGES SET_ALARM SET_TIME_ZONE SET_WALLPAPER SET_WALLPAPER_HINTS TRANSMIT_IR UNINSTALL_SHORTCUT USE_FINGERPRINT VIBRATE WAKE_LOCK WRITE_SYNC_SETTINGS Dangerous Permissions: group:android.permission-group.CONTACTS permission:android.permission.WRITE_CONTACTS permission:android.permission.GET_ACCOUNTS permission:android.permission.READ_CONTACTS group:android.permission-group.PHONE permission:android.permission.READ_CALL_LOG permission:android.permission.READ_PHONE_STATE permission:android.permission.CALL_PHONE permission:android.permission.WRITE_CALL_LOG permission:android.permission.USE_SIP permission:android.permission.PROCESS_OUTGOING_CALLS permission:com.android.voicemail.permission.ADD_VOICEMAIL group:android.permission-group.CALENDAR permission:android.permission.READ_CALENDAR permission:android.permission.WRITE_CALENDAR group:android.permission-group.CAMERA permission:android.permission.CAMERA group:android.permission-group.SENSORS permission:android.permission.BODY_SENSORS group:android.permission-group.LOCATION permission:android.permission.ACCESS_FINE_LOCATION permission:android.permission.ACCESS_COARSE_LOCATION group:android.permission-group.STORAGE permission:android.permission.READ_EXTERNAL_STORAGE permission:android.permission.WRITE_EXTERNAL_STORAGE group:android.permission-group.MICROPHONE permission:android.permission.RECORD_AUDIO group:android.permission-group.SMS permission:android.permission.READ_SMS permission:android.permission.RECEIVE_WAP_PUSH permission:android.permission.RECEIVE_MMS permission:android.permission.RECEIVE_SMS permission:android.permission.SEND_SMS permission:android.permission.READ_CELL_BROADCASTS ————————————————————————————————————— 导入依赖 ： compile ‘com.tbruyelle.rxpermissions:rxpermissions:0.9.4@aar’ /** Created by lgy on 2017/7/10. RxPermissionsUtil 动态权限申请*/ public class RxPermissionsUtil { public static RxPermissions rxPermission; private static RxPermissions getInstance(Activity activity) { if (rxPermission == null) { if (rxPermission == null) rxPermission = new RxPermissions(activity); } return rxPermission; } public static void isRxPermission(Activity activity) { getInstance(activity) .request(getPermission()) .subscribe(new Action1&lt;Boolean&gt;() { @Override public void call(Boolean aBoolean) { if (aBoolean) { // 所有权限请求被同意 //TODO } else { // 至少有一个权限没同意 } } }); } public static void requestPermissions(Activity activity) { getInstance(activity) .requestEach(getPermission()) .subscribe(new Action1&lt;Permission&gt;() { @Override public void call(Permission permission) { if (permission.granted) { // 用户已经同意该权限 Log.d(&quot;permissions&quot;, permission.name + &quot; is granted.&quot;); } else if (permission.shouldShowRequestPermissionRationale) { // 用户拒绝了该权限，没有选中『不再询问』（Never ask again）,那么下次再次启动时，还会提示请求权限的对话框 Log.d(&quot;permissions&quot;, permission.name + &quot; is denied. More info should be provided.&quot;); } else { ToastUtils.showLongToast(&quot;请手动配置权限&quot;); // 用户拒绝了该权限，并且选中『不再询问』 Log.d(&quot;permissions&quot;, permission.name + &quot; is denied.&quot;); } } }); } @NonNull private static String[] getPermissions() { return new String[]{ Manifest.permission.SEND_SMS, Manifest.permission.WRITE_EXTERNAL_STORAGE, Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.READ_CALENDAR, Manifest.permission.READ_CALL_LOG, Manifest.permission.READ_CONTACTS, Manifest.permission.READ_PHONE_STATE, Manifest.permission.READ_SMS, Manifest.permission.RECORD_AUDIO, Manifest.permission.CAMERA, Manifest.permission.CALL_PHONE, }; } @NonNull private static String[] getPermission() { return new String[]{Manifest.permission.READ_EXTERNAL_STORAGE, //允许程序读外部存储，如SD卡上写文件 Manifest.permission.WRITE_SETTINGS, //写入 Manifest.permission.WRITE_EXTERNAL_STORAGE, //允许程序写入外部存储，如SD卡上写文件 Manifest.permission.CAMERA //拍照 }; } } 权限判断 if (ContextCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.READ_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED &amp;&amp; ContextCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.CAMERA) == PackageManager.PERMISSION_GRANTED) {已有权限。。。} else { RxPermissionsUtil.requestPermissions(this); }","categories":[],"tags":[]},{"title":"线性布局横向填充RecyclerView条目数据 宽度限制","slug":"线性布局横向填充RecyclerView条目数据 宽度限制 ","date":"2017-07-11T06:42:05.000Z","updated":"2017-07-11T11:21:55.000Z","comments":true,"path":"2017/07/11/线性布局横向填充RecyclerView条目数据 宽度限制 /","link":"","permalink":"http://lgyblong.com/2017/07/11/线性布局横向填充RecyclerView条目数据 宽度限制 /","excerpt":"","text":"线性布局横向填充RecyclerView条目数据 宽度限制 @Override public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) { View itemView = LayoutInflater.from(context).inflate(R.layout.item_purchase, parent, false); // View itemView = View.inflate(context, R.layout.item_purchase, parent); return new MinePrchaseRecyclerViewHolder(itemView); } invalid active developer path (/Library/Developer/CommandLineTools), missing xcrun at: /Library/Developer/CommandLineTools/usr/bin/xcrun","categories":[],"tags":[]},{"title":"文章标题","slug":"文章标题","date":"2017-07-11T06:40:49.000Z","updated":"2017-07-12T15:44:53.000Z","comments":true,"path":"2017/07/11/文章标题/","link":"","permalink":"http://lgyblong.com/2017/07/11/文章标题/","excerpt":"","text":"//其中的width=298 height=52 均改为0就看不到了，依然可以播放音乐 链接：http://www.jianshu.com/p/a52b68794a6b來源：简书著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。","categories":[],"tags":[]},{"title":"Hello World","slug":"hello-world","date":"2017-07-11T06:27:01.000Z","updated":"2017-07-11T06:27:01.000Z","comments":true,"path":"2017/07/11/hello-world/","link":"","permalink":"http://lgyblong.com/2017/07/11/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]}]}